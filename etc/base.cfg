[buildout]
newest = false
unzip = true
relative-paths = true
develop = .

parts =
    api
    supervisord-config
    redis01-config
    redis02-config
    cleanpyc

eggs =
    supervisor

[api]
recipe = zc.recipe.egg
interpreter = python
eggs = ${buildout:eggs}
    storage-api
extra-paths = 
	${buildout:directory}/config 

[supervisord-config]
recipe = collective.recipe.template
input = ${buildout:directory}/etc/supervisord.conf.in
output = ${buildout:directory}/etc/supervisord.conf

[redis01-config]
recipe = collective.recipe.template
input = ${buildout:directory}/etc/redis_01.conf.in
output = ${buildout:directory}/etc/redis_01.conf

[redis02-config]
recipe = collective.recipe.template
input = ${buildout:directory}/etc/redis_02.conf.in
output = ${buildout:directory}/etc/redis_02.conf

[cleanpyc]
recipe = plone.recipe.command
command = find ${buildout:directory}/apps -iname '*.pyc' -delete
